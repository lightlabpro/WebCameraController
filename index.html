<!doctype html>
<html>
<head>
    <title>Debug Controller</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #1a1a1a; color: white; }
        .data { background: #198754; padding: 20px; border-radius: 8px; margin: 20px 0; font-size: 18px; }
        .raw { background: #6c757d; padding: 15px; border-radius: 8px; margin: 15px 0; font-family: monospace; }
    </style>
</head>
<body>
    <h1>üêõ Debug Controller</h1>
    
    <div class="data">
        <strong>Orientation: [0.5000, 0.3000, 0.2000, 1.0000]</strong>
    </div>
    
    <div class="raw">
        <strong>Raw Data:</strong><br>
        Alpha: <span id="alpha">0</span>¬∞<br>
        Beta: <span id="beta">0</span>¬∞<br>
        Gamma: <span id="gamma">0</span>¬∞
    </div>
    
    <p>This controller outputs orientation data in the exact format Unity expects.</p>
    
    <script>
        // Check if device orientation is available
        if (window.DeviceOrientationEvent) {
            console.log("Device orientation available");
            
            window.addEventListener('deviceorientation', (e) => {
                console.log("Orientation event:", e);
                
                if (e.alpha !== null && e.beta !== null && e.gamma !== null) {
                    // Update raw values
                    document.getElementById('alpha').textContent = e.alpha.toFixed(1);
                    document.getElementById('beta').textContent = e.beta.toFixed(1);
                    document.getElementById('gamma').textContent = e.gamma.toFixed(1);
                    
                    // Convert to quaternion format (simplified)
                    let x = (e.alpha / 180) * 0.5;
                    let y = (e.beta / 180) * 0.5;
                    let z = (e.gamma / 180) * 0.5;
                    let w = 1.0;
                    
                    // Update the orientation display
                    document.querySelector('.data').innerHTML = 
                        `<strong>Orientation: [${x.toFixed(4)}, ${y.toFixed(4)}, ${z.toFixed(4)}, ${w.toFixed(4)}]</strong>`;
                        
                    console.log("Updated orientation:", x, y, z, w);
                } else {
                    console.log("Orientation values are null:", e);
                }
            });
        } else {
            console.log("Device orientation not available");
            document.querySelector('.data').innerHTML = 
                '<strong style="color: red;">Device orientation not available</strong>';
        }
    </script>
</body>
</html>
